[gd_scene load_steps=52 format=3 uid="uid://cyqpd2yyfbeu1"]

[ext_resource type="Script" path="res://player.gd" id="1_3w1j7"]
[ext_resource type="Texture2D" uid="uid://ujlxwtvsg6r3" path="res://all art/Neko Office Asset Pack/Characters/cat-office-white-side-idle.png" id="4_kexbk"]
[ext_resource type="PackedScene" uid="uid://cxm0c1vffj4mw" path="res://ruler.tscn" id="7_3vr35"]
[ext_resource type="Texture2D" uid="uid://dq3q7g8817gxa" path="res://all art/Neko Office Asset Pack/Characters/cat-office-white-back-idle.png" id="7_us4ev"]
[ext_resource type="Texture2D" uid="uid://chp3r06r1ayy0" path="res://all art/Neko Office Asset Pack/Characters/cat-office-white-front-idle.png" id="8_rwtos"]
[ext_resource type="Texture2D" uid="uid://buiq8dnonook3" path="res://all art/Neko Office Asset Pack/Characters/cat-office-white-side-walk.png" id="9_tg4j6"]
[ext_resource type="Script" path="res://CoinAmountLabel.gd" id="10_1bqbl"]
[ext_resource type="Texture2D" uid="uid://nb5irm6djsjp" path="res://all art/Neko Office Asset Pack/Characters/cat-office-white-back-walk.png" id="10_h67hk"]
[ext_resource type="AudioStream" uid="uid://jam13hjppcci" path="res://all art/sounds effects/playerHurt.wav" id="11_0uqda"]
[ext_resource type="Texture2D" uid="uid://cgk5hqi08dlxv" path="res://all art/Neko Office Asset Pack/Characters/cat-office-white-front-walk.png" id="11_3fmfk"]
[ext_resource type="AudioStream" uid="uid://gwnh3chlwa3r" path="res://all art/sounds effects/ultAbility.wav" id="11_djrx1"]
[ext_resource type="AudioStream" uid="uid://nnp8fbtnf2lf" path="res://all art/sounds effects/pickupCoin.wav" id="12_63uxq"]
[ext_resource type="AudioStream" uid="uid://cpkbjnyrl23gw" path="res://all art/sounds effects/walking.ogg" id="12_qktok"]
[ext_resource type="AudioStream" uid="uid://c1g6lvxl8jnje" path="res://all art/sounds effects/abilityCharged.wav" id="13_1k5hj"]
[ext_resource type="FontFile" uid="uid://bwobog63u2xa5" path="res://all art/Fonts/PeaberryBase.ttf" id="13_6swu4"]
[ext_resource type="Texture2D" uid="uid://dqeu1jgigatnr" path="res://all art/other - emily/eraser.png" id="14_idwux"]
[ext_resource type="PackedScene" uid="uid://bj6br52itu2yd" path="res://health_bar.tscn" id="14_p1r53"]
[ext_resource type="FontFile" uid="uid://cjjdfxqsn82gw" path="res://all art/Fonts/PeaberryMono.ttf" id="15_cphya"]
[ext_resource type="Script" path="res://ResetsLabel.gd" id="16_vl4n2"]
[ext_resource type="Script" path="res://Kills.gd" id="19_4cijg"]
[ext_resource type="Texture2D" uid="uid://ceyw6w1rdiqml" path="res://all art/assets - charles/mouse-pointer.png" id="20_6u5sg"]
[ext_resource type="Texture2D" uid="uid://dn5jvc5bb8bbs" path="res://all art/other - emily/rkey.png" id="22_il1p8"]

[sub_resource type="AtlasTexture" id="AtlasTexture_jupo4"]
atlas = ExtResource("7_us4ev")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_nb3q7"]
atlas = ExtResource("7_us4ev")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_lhffe"]
atlas = ExtResource("7_us4ev")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_0w0nq"]
atlas = ExtResource("8_rwtos")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_4u52i"]
atlas = ExtResource("8_rwtos")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_22nax"]
atlas = ExtResource("8_rwtos")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_61xra"]
atlas = ExtResource("4_kexbk")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_x4851"]
atlas = ExtResource("4_kexbk")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_tqck4"]
atlas = ExtResource("4_kexbk")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_agvpd"]
atlas = ExtResource("10_h67hk")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_hqbt3"]
atlas = ExtResource("10_h67hk")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_je0by"]
atlas = ExtResource("10_h67hk")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_uuuxd"]
atlas = ExtResource("10_h67hk")
region = Rect2(48, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_fo4x3"]
atlas = ExtResource("11_3fmfk")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_3q663"]
atlas = ExtResource("11_3fmfk")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_yol5y"]
atlas = ExtResource("11_3fmfk")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_6yeal"]
atlas = ExtResource("11_3fmfk")
region = Rect2(48, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_0af1u"]
atlas = ExtResource("9_tg4j6")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_y3pt0"]
atlas = ExtResource("9_tg4j6")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_u57pk"]
atlas = ExtResource("9_tg4j6")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_vsfg1"]
atlas = ExtResource("9_tg4j6")
region = Rect2(48, 0, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_d3nqb"]
animations = [{
"frames": [],
"loop": true,
"name": &"attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jupo4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nb3q7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lhffe")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nb3q7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jupo4")
}],
"loop": true,
"name": &"idle_back",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0w0nq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4u52i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_22nax")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4u52i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0w0nq")
}],
"loop": true,
"name": &"idle_front",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_61xra")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x4851")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tqck4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x4851")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_61xra")
}],
"loop": true,
"name": &"idle_side",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_agvpd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hqbt3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_je0by")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uuuxd")
}],
"loop": true,
"name": &"walk_back",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_fo4x3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3q663")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yol5y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6yeal")
}],
"loop": true,
"name": &"walk_front",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0af1u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y3pt0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u57pk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vsfg1")
}],
"loop": true,
"name": &"walk_side",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_45j3l"]
radius = 13.0
height = 28.0

[sub_resource type="Animation" id="Animation_pi1nx"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Weapon:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [2.0944]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Weapon:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(11, 13)]
}

[sub_resource type="Animation" id="Animation_028mt"]
resource_name = "ruler_attack_back"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Weapon:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [-1.0472, 1.0472]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Weapon:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(-11, -8), Vector2(0, -14), Vector2(11, -8)]
}

[sub_resource type="Animation" id="Animation_n45ra"]
resource_name = "ruler_attack_front"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Weapon:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [2.0944, 4.18879]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Weapon:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(11, 13), Vector2(0, 18), Vector2(-11, 13)]
}

[sub_resource type="Animation" id="Animation_6u8x4"]
resource_name = "ruler_attack_left"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Weapon:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [3.66519, 5.75959]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Weapon:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(-10, 14), Vector2(-15, 0), Vector2(-10, -10)]
}

[sub_resource type="Animation" id="Animation_oddlr"]
resource_name = "ruler_attack_right"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Weapon:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.523599, 2.61799]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Weapon:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(10, -10), Vector2(15, 0), Vector2(10, 14)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_c8h7t"]
_data = {
"RESET": SubResource("Animation_pi1nx"),
"ruler_attack_back": SubResource("Animation_028mt"),
"ruler_attack_front": SubResource("Animation_n45ra"),
"ruler_attack_left": SubResource("Animation_6u8x4"),
"ruler_attack_right": SubResource("Animation_oddlr")
}

[node name="Player" type="CharacterBody2D" groups=["characters"]]
collision_layer = 3
script = ExtResource("1_3w1j7")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(-0.249999, 0)
scale = Vector2(2.15625, 2.1875)
sprite_frames = SubResource("SpriteFrames_d3nqb")
animation = &"walk_side"
metadata/_edit_lock_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 2)
shape = SubResource("CapsuleShape2D_45j3l")
metadata/_edit_lock_ = true

[node name="Weapon" type="Node2D" parent="."]
position = Vector2(11, 13)
rotation = 2.0944

[node name="Ruler" parent="Weapon" instance=ExtResource("7_3vr35")]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_c8h7t")
}

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(1.5, 1.5)
process_callback = 0
position_smoothing_enabled = true
position_smoothing_speed = 10.0

[node name="PlayerHurt" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("11_0uqda")
volume_db = -4.956
bus = &"sfx"

[node name="PickupCoin" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("12_63uxq")
volume_db = -5.0
bus = &"sfx"

[node name="UltAbility" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("11_djrx1")
bus = &"sfx"

[node name="Walking" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("12_qktok")
volume_db = -10.0
pitch_scale = 0.73
bus = &"sfx"

[node name="AbilityCharged" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("13_1k5hj")
bus = &"sfx"

[node name="Marker2D" type="Marker2D" parent="."]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="CoinAmountLabel" type="Label" parent="CanvasLayer"]
offset_left = 61.0
offset_top = 130.0
offset_right = 204.0
offset_bottom = 153.0
theme_override_fonts/font = ExtResource("13_6swu4")
theme_override_font_sizes/font_size = 20
text = "Coin amount: "
script = ExtResource("10_1bqbl")

[node name="ResetsLabel" type="Label" parent="CanvasLayer"]
offset_left = 1003.0
offset_top = 79.0
offset_right = 1155.0
offset_bottom = 110.0
theme_override_fonts/font = ExtResource("15_cphya")
theme_override_font_sizes/font_size = 30
text = "Resets: "
script = ExtResource("16_vl4n2")

[node name="HealthBar" parent="CanvasLayer" instance=ExtResource("14_p1r53")]
offset_left = 53.0
offset_top = 79.0
offset_right = 138.0
offset_bottom = 86.0
scale = Vector2(4, 4)

[node name="EraserIcon1" type="TextureRect" parent="CanvasLayer"]
offset_left = 295.0
offset_top = 125.0
offset_right = 315.0
offset_bottom = 153.0
texture = ExtResource("14_idwux")

[node name="EraserIcon2" type="TextureRect" parent="CanvasLayer"]
offset_left = 333.0
offset_top = 125.0
offset_right = 353.0
offset_bottom = 153.0
texture = ExtResource("14_idwux")

[node name="EraserIcon3" type="TextureRect" parent="CanvasLayer"]
offset_left = 370.0
offset_top = 125.0
offset_right = 390.0
offset_bottom = 153.0
texture = ExtResource("14_idwux")

[node name="AbilityCharge" type="Label" parent="CanvasLayer"]
visible = false
offset_left = 49.0
offset_top = 646.0
offset_right = 89.0
offset_bottom = 669.0
theme_override_fonts/font = ExtResource("13_6swu4")
theme_override_font_sizes/font_size = 20
text = "/10"
script = ExtResource("19_4cijg")

[node name="PointerIcon" type="TextureRect" parent="CanvasLayer"]
visible = false
offset_left = 121.0
offset_top = 633.0
offset_right = 161.0
offset_bottom = 673.0
texture = ExtResource("20_6u5sg")

[node name="RKey" type="TextureRect" parent="CanvasLayer"]
visible = false
offset_left = 82.0
offset_top = 563.0
offset_right = 156.0
offset_bottom = 627.0
texture = ExtResource("22_il1p8")
expand_mode = 1

[node name="ShootPosition" type="Marker2D" parent="."]

[node name="ReplenishTimer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[node name="LoopTimer" type="Timer" parent="."]

[connection signal="timeout" from="ReplenishTimer" to="." method="_on_replenish_timer_timeout"]
[connection signal="timeout" from="LoopTimer" to="." method="_on_loop_timer_timeout"]
